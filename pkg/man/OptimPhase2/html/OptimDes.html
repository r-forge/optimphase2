<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: Construct an Optimal Two-stage Design for a Time to Event
Endpoint Versus a Known Control Standard</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="../../R.css">
</head><body>

<table width="100%" summary="page for OptimDes {OptimPhase2}"><tr><td>OptimDes {OptimPhase2}</td><td align="right">R Documentation</td></tr></table>
<h2>Construct an Optimal Two-stage Design for a Time to Event
Endpoint Versus a Known Control Standard</h2>


<h3>Description</h3>

<p>
Construct a two-stage design for a time to event endpoint with possible stopping for futility
after the end of Stage 1.  The design  minimizes either the expected
duration of accrual (EDA) or the expected total study length
(ETSL). Requires 2-3 minutes on a 2GHz laptop.
</p>


<h3>Usage</h3>

<pre>
OptimDes(
B.init, m.init, alpha, beta, param, x, target = c("EDA", "ETSL"),
recover=TRUE, control = OptimDesControl(),...)

</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>B.init</code></td>
<td>
A vector of user-specified time points (B1, ..., Bb) that determine a
set of time intervals with uniform accrual.</td></tr>
<tr valign="top"><td><code>m.init</code></td>
<td>
The projected
number of patients that can be accrued within the time intervals
determined by <code>B.init</code>.  A large number of potential patients
results in long execution times for <code>OptimDes</code>, so
unrealistically large values should not be entered.</td></tr>
<tr valign="top"><td><code>alpha</code></td>
<td>
Type I error.</td></tr>
<tr valign="top"><td><code>beta</code></td>
<td>
Type II error.</td></tr>
<tr valign="top"><td><code>param</code></td>
<td>
A four-element vector containing: the shape parameter of the Weibull distribution under the
null hypothesis, the scale parameter of the Weibull distribution under the
null hypothesis, the shape parameter of the Weibull distribution under the
alternative hypothesis, the scale parameter of the Weibull distribution under the
alternative hypothesis.  The R parameterization of the Weibull
distribution is used.</td></tr>
<tr valign="top"><td><code>x</code></td>
<td>
Survival time of interest (e.g., 1 year).</td></tr>
<tr valign="top"><td><code>target</code></td>
<td>
When the expected duration of
accrual (EDA) is to be minimized, <code>target="EDA"</code>. When the
expected total study length is to be minimized,
<code>target="ETSL"</code>.</td></tr>
<tr valign="top"><td><code>recover</code></td>
<td>
The Simon Two-Stage design recovers alpha from the Type I errors
that would have occured if the study had not been stopped early for
futility.  This recovery allows for a slightly lower boundary for the
final test, thereby increasing power.  The default with partial data
at the interim analysis is to recover the alpha as with the standard
Simon design.  When recover=F, the optimal design is found assuming
that the boundary for the final test will not be adjusted downward
ignoring this small potential gain to ensure protection of the alpha
level even when the accrual rates and survivor functions are mis-specified. 
</td></tr>
<tr valign="top"><td><code>control</code></td>
<td>
An optional list of control settings.  See
<code><a href="../../../doc/html/search/SearchObject.html?OptimDesControl">OptimDesControl</a></code>
for the parameters that can be set and their default values.</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
No additional optional parameters are currently implemented</td></tr>
</table>

<h3>Details</h3>

<p>
<code>OptimDes</code> finds a two-stage design for a time to event endpoint
with potential stopping for futility after the first stage.  It
implements the Case and Morgan (2003) generalizaton of the Simon
(1989) two-stage design for comparing a treatment to a known standard.
The design minimizes either the expected duration of accrual (EDA) or
the expected total study length (ETSL).
</p>
<p>
The design calculations assume Weibull distributions for the time to
event endpoint in the treated group, and for the (assumed known, "Null") control
distribution.  Estimation is  based on the Kaplan-Meier or
Nelson-Aalen estimators evaluated at a target time (e.g., 1 year).
The full treated and control distributions and the accrual
distribution  affect power (and alpha level in some settings), see Case and Morgan (2003)).
</p>
<p>
Accrual rates are specified by the user.  These rates can differ
across time intervals specified by the user (this generalizes the
results in Case and Morgan).
</p>
<p>
A detailed description of the algorithm is in the file method.pdf in
the /doc subdirectory of the <code>OptimPhase2</code> package.  It can be accessed from the
HTML help page for the package.
</p>


<h3>Value</h3>

<p>
A list with components:
</p>
<table summary="R argblock">
<tr valign="top"><td><code>target</code></td>
<td>
The optimizaton target ("EDA" or "ETSL")</td></tr>
<tr valign="top"><td><code>test</code></td>
<td>
A vector giving the type I error <code>alpha</code>, type II
error <code>beta</code>, <code>recover=T/F</code>, Weibull parameters <code>param</code> and survival time
of interest <code>x</code>.</td></tr>
<tr valign="top"><td><code>accrual</code></td>
<td>
A list containing the input vectors <code>B.init</code> and
<code>m.init</code></td></tr>
<tr valign="top"><td><code>result</code></td>
<td>
A three-element vector containing the expected duration of
accrual (EDA), the expected total study length (ETSL), and the expected sample size of the optimal
design (ES).</td></tr>
<tr valign="top"><td><code>n</code></td>
<td>
A two-element vector containing the sample size for the
interim analysis and the sample size if both stages are completed.</td></tr>
<tr valign="top"><td><code>stageTime</code></td>
<td>
A two-element vector giving the times for the interim and
final analysis.</td></tr>
<tr valign="top"><td><code>boundary</code></td>
<td>
A two-element vector giving  the rejection cutpoint <code>C1</code>
for the interim test statistic (see <code>Test2stage</code>), and  <code>C2</code>
for the final test statistic.</td></tr>
<tr valign="top"><td><code>se</code></td>
<td>
A vector of length 4 with the asymptotic standard errors
at the iterim and final analysis under the null hypothesis, followed
by the corresponding SEs under the alternative hypothesis.  These SEs
must be divided by the sqrt(sample size).</td></tr>
<tr valign="top"><td><code>u</code></td>
<td>
Mean of Z2 under H1.  See detailed description.  Used to
compute conditional power</td></tr>
<tr valign="top"><td><code>exposure</code></td>
<td>
The expected total exposure of patients at the time
of the planned interim analysis.  The exposure is truncated by both
the interim analysis time and the target surival time (i.e., no
exposure after <code>x</code>).  Exposure is a vector of length 2.  The
first valuse is the expected exposure without the Case-Morgan finite sample
adjustment to sample sizes.  The second value is the expected exposure with theadjustment applied.</td></tr>
<tr valign="top"><td><code>all.info</code></td>
<td>
A data frame containing the results
for all of the evaluated sample sizes. </td></tr>
<tr valign="top"><td><code>single.stage</code></td>
<td>
A six-element vector giving the  sample
size <code>fix.n</code>, duration of accrual <code>DA</code>,  study length
<code>SL</code>, and corresponding values based on the exact binomial test for a single-stage design with the design distributional assumptions. </td></tr>
</table>

<h3>Note</h3>

<p>
The algorithm will search for the optimal <code>n</code> between the 
sample size for a single-stage design and the
user specified maximum sample size <code>sum(m.init)</code>.
</p>
<p>
When the length of <code>B.init</code> or <code>m.init</code> is 1, the accrual
rate is constant as  in Lin et al. (1996), Case and Morgan
(2003).
</p>


<h3>Author(s)</h3>

<p>
Bo Huang <a href="mailto:&lt;huang@stat.wisc.edu&gt;">&lt;huang@stat.wisc.edu&gt;</a> and Neal Thomas
</p>


<h3>References</h3>

<p>
Case M. D. and Morgan T. M. (2003) Design of Phase II cancer trials
evaluating survival probabilities. <EM>BMC Medical Research
Methodology</EM>, <B>3</B>, 7.
</p>
<p>
Lin D. Y., Shen L., Ying Z. and Breslow N. E. (1996) Group seqential
designs for monitoring survival probabilities. <EM>Biometrics</EM>,
<B>52</B>, 1033&ndash;1042.
</p>
<p>
Simon R. (1989) Optimal two-stage designs for phase II clinical
trials. <EM>Controlled Clinical Trials</EM>, <B>10</B>, 1&ndash;10.
</p>


<h3>See Also</h3>

<p>
<code><a href="../../../doc/html/search/SearchObject.html?np.OptimDes">np.OptimDes</a></code>, <code><a href="../../../doc/html/search/SearchObject.html?print.OptimDes">print.OptimDes</a></code>,
<code><a href="../../../doc/html/search/SearchObject.html?plot.OptimDes">plot.OptimDes</a></code>, <code><a href="../../../doc/html/search/SearchObject.html?weibull.plot">weibull.plot</a></code>
</p>


<h3>Examples</h3>

<pre>
B.init &lt;- c(1, 2, 3, 4, 5)
m.init &lt;- c(15, 20, 25, 20, 15)
alpha &lt;- 0.05
beta &lt;- 0.1
param &lt;- c(1, 1.09, 2, 1.40)
x &lt;- 1

# H0: S0=0.40 H1: S1=0.60

object1 &lt;- OptimDes(B.init,m.init,alpha,beta,param,x,target="EDA")
print(object1)

object2 &lt;- OptimDes(B.init,m.init,alpha,beta,param,x,target="ETSL")
plot(object2)

m.init &lt;- c(25,20,15,20,25)
object3 &lt;- OptimDes(B.init,m.init,alpha,beta,param,x,target="ETSL")

</pre>



<hr><div align="center">[Package <em>OptimPhase2</em> <a href="00Index.html">Index]</a></div>

</body></html>
