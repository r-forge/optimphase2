<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: Simulation Studies for Two-Stage Designs with Time to Event
Endpoints from function OptimDes</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="../../R.css">
</head><body>

<table width="100%" summary="page for SimDes {OptimPhase2}"><tr><td>SimDes {OptimPhase2}</td><td align="right">R Documentation</td></tr></table>
<h2>Simulation Studies for Two-Stage Designs with Time to Event
Endpoints from function OptimDes</h2>


<h3>Description</h3>

<p>
Simulation experiments to compare the
alpha level and power of two-stage designs from function
<code><a href="../../../doc/html/search/SearchObject.html?OptimDes">OptimDes</a></code> with the targetted values.
</p>


<h3>Usage</h3>

<pre>
SimDes(object,B.init,m.init,weib0,weib1,interimRule='e1',
       sim.n=1000,e1conv=1/365,CMadj=F,attainI=1,attainT=1,exactBound=F)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>object</code></td>
<td>
Output object of function <code><a href="../../../doc/html/search/SearchObject.html?OptimDes">OptimDes</a></code></td></tr>
<tr valign="top"><td><code>B.init</code></td>
<td>
A vector of user-specified time points (B1, ..., Bb) that determine a
set of time intervals with uniform accrual.  This vector 
needs to be specified only if its values differ from the call to
<code>OptimDes</code></td></tr>
<tr valign="top"><td><code>m.init</code></td>
<td>
The projected
number of patients that can be accrued within the time intervals
determined by <code>B.init</code>.  This vector 
needs to be specified only if its values differ from the call to
<code>OptimDes</code></td></tr>
<tr valign="top"><td><code>weib0</code></td>
<td>
A vector with the shape and scale for the Weibull distribution under the
null hypothesis.  These need to be specified only if they differ from
the input to <code>OptimDes</code>.</td></tr>
<tr valign="top"><td><code>weib1</code></td>
<td>
A vector with the shape and scale for the Weibull distribution under the
alternative hypothesis.  These need to be specified only if they differ from
the input to <code>OptimDes</code>.</td></tr>
<tr valign="top"><td><code>interimRule</code></td>
<td>
The interim analysis is performed when the planned
<code>n1</code> patients are accrued regardless of the time required when
interimRule='n1'.  The interim analysis is performed at the planned
time <code>t1</code> regardless of the number of patients accrued when
interimRule='t1'.  The interim analysis is performed when the
truncated (by x) total exposure matches the total expected exposure 
when interimRule='e1'.  The default is 'e1'.</td></tr>
<tr valign="top"><td><code>sim.n</code></td>
<td>
The number of simulation replications.</td></tr>
<tr valign="top"><td><code>e1conv</code></td>
<td>
Convergence criteria for matching the truncated
exposure when <code>interimRule='e1'</code>.  The default is 1/365, which
is appropriate provided <code>B.init</code> is specified in years</td></tr>
<tr valign="top"><td><code>CMadj</code></td>
<td>
If true, the <code>n</code>, <code>n1</code>, and <code>t1</code> are adjusted by
the ratio of the exact binomial to asymptotic normal sample size for
the single stage design, as in Case and Morgan 2003.  Proportional
adjustment of times and sample sizes are made even if the accrual rates
are not constant. The adjustment to the <code>mda</code> is made through the
adjustment to <code>n</code> rather than by multiplication to ensure consistency
with accrual boundaries.  The truncated exposure time is matched to the
adjusted time of the interim analysis. Default is false.
</td></tr>
<tr valign="top"><td><code>attainI</code></td>
<td>
Samples sizes and times of the interim and final
analyses often differ from the exact targetted values for operational
reasons. The <code>attainI</code> permits simulations with a
different interim time or sample size (depending on
<code>interimRule</code>) by a specified fraction.</td></tr>
<tr valign="top"><td><code>attainT</code></td>
<td>
Simulations with a
total sample size (assuming the trial does not stop based on
the interim analysis) that differs from the planned total  by a specified fraction.</td></tr>
<tr valign="top"><td><code>exactBound</code></td>
<td>
If exactBound is TRUE, a one-sided (upper) test is
performed using exact binomial probabilities for the second analysis.
The alpha level from the potential first-stage stopping is not
recovered regardless of the <code>recover</code> option specified in <code><a href="../../../doc/html/search/SearchObject.html?OptimDes">OptimDes</a></code>.
</td></tr>
</table>

<h3>Details</h3>

<p>
The optimal phase II design with time to event endpoints generated by
<code>OptimDes</code> assumes that the test statistics are asymptotically
normally distributed. However, the sample sizes in phase II trials are
relatively small, especially during the interim analysis, thus it is
reasonable to raise some doubt for the normal assumption.
</p>
<p>
<code>sim.n</code>(default is <code>1000</code>) simulation experiments are
conducted to assess how close the empirical type I and II errors come
to the target values. 
</p>
<p>
Simulation studies can also be used to assess the performance of the
optimal design under mis-specification of the design parameters. For
example,  if the Weibull
shape and scale parameters of the time to event distributions are
changed, or if  the accrual rates are changed. (see Case and Morgan,
2003, for discussion of this topic).
</p>


<h3>Value</h3>

<p>
A vector with:
</p>
<table summary="R argblock">
<tr valign="top"><td><code>alpha</code></td>
<td>
Estimated alpha level</td></tr>
<tr valign="top"><td><code>power</code></td>
<td>
Estimated power</td></tr>
<tr valign="top"><td><code>eda</code></td>
<td>
Estimated mean duration of accrual under the null hypothesis</td></tr>
<tr valign="top"><td><code>etsl</code></td>
<td>
Estimated mean total study length under the null hypothesis</td></tr>
<tr valign="top"><td><code>aveE</code></td>
<td>
Average total (truncated at x) exposure at time of interim
analysis</td></tr>
<tr valign="top"><td><code>pinfoNull</code></td>
<td>
The proportion of the total information obtained at
the interim analysis under the null hypothesis</td></tr>
<tr valign="top"><td><code>pinfoAlt</code></td>
<td>
The proportion of the total information obtained at
the interim analysis under the althernative hypothesis</td></tr>
<tr valign="top"><td><code>n1</code></td>
<td>
Average sample size at interim</td></tr>
<tr valign="top"><td><code>t1</code></td>
<td>
Average time at interim</td></tr>
<tr valign="top"><td><code>phatKl</code></td>
<td>
Lowest interim survival rate continued to final analysis</td></tr>
<tr valign="top"><td><code>phatKh</code></td>
<td>
Highest interim survival rate resulting in terimination</td></tr>
<tr valign="top"><td><code>phatRl</code></td>
<td>
Lowest final survival rate rejecting null</td></tr>
<tr valign="top"><td><code>phatRh</code></td>
<td>
Highest final survival rate without rejecting null</td></tr>
</table>

<h3>Author(s)</h3>

<p>
Bo Huang <a href="mailto:&lt;huang@stat.wisc.edu&gt;">&lt;huang@stat.wisc.edu&gt;</a> and Neal Thomas
</p>


<h3>References</h3>

<p>
Case M. D. and Morgan T. M. (2003) Design of Phase II cancer trials
evaluating survival probabilities. <EM>BMC Medical Research
Methodology</EM>, <B>3</B>, 7.
</p>
<p>
Lin D. Y., Shen L., Ying Z. and Breslow N. E. (1996) Group seqential
designs for monitoring survival probabilities. <EM>Biometrics</EM>,
<B>52</B>, 1033&ndash;1042.
</p>
<p>
Simon R. (1989) Optimal two-stage designs for phase II clinical
trials. <EM>Controlled Clinical Trials</EM>, <B>10</B>, 1&ndash;10.
</p>


<h3>See Also</h3>

<p>
<code><a href="../../../doc/html/search/SearchObject.html?OptimDes">OptimDes</a></code>, <code><a href="../../../doc/html/search/SearchObject.html?Test2stage">Test2stage</a></code>
</p>


<h3>Examples</h3>

<pre>
B.init &lt;- c(1, 2, 3, 4, 5)
m.init &lt;- c(15, 20, 25, 20, 15)
alpha &lt;- 0.05
beta &lt;- 0.1
param &lt;- c(1, 1.09, 2, 1.40)
x &lt;- 1

# H0: S0=0.40 H1: S1=0.60

object1 &lt;- OptimDes(B.init,m.init,alpha,beta,param,x,target="EDA")

SimDes(object1)

SimDes(object1,interimRule='t1')

### accrual rates differ from planned

SimDes(object1,m.init=c(5,5,25,25,25))
</pre>



<hr><div align="center">[Package <em>OptimPhase2</em> <a href="00Index.html">Index]</a></div>

</body></html>
